{"version":3,"sources":["../src/Controller.js"],"names":[],"mappings":";;;;;;;qBAAuB,SAAS;;mBACd,OAAO;;;;;;;;;;;;AAWlB,SAAS,UAAU,CAAC,IAAI,EAAE,OAAO,EAAE;AACzC,KAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC/B,MAAI,YAAW,GAAG,IAAI,CAAC,AAAC,IAAI,GAAG,IAAI,CAAC;AACpC,SAAO,QAAQ,CAAC,YAAW,EAAE,OAAO,CAAC,CAAC;EACtC;;AAED,QAAO,QAAQ,CAAC;AAChB,UAAS,QAAQ,CAAC,WAAW,EAAE,IAAI,EAAC;AACnC,cAAY,CAAC,WAAW,CAAC,CAAC;AAC1B,MAAI,IAAI,GAAG,qBAAS,WAAW,CAAC,CAAC;;AAEjC,MAAI,GAAI,IAAI,IAAK,IAAI,IAAI,IAAI,CAAC,IAAI,AAAC,IAAI,IAAI,CAAC,IAAI,AAAC,CAAC;AAClD,MAAI,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC;;AAE5B,WAAI,UAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;EAClC;CACD;;AAED,SAAS,YAAY,CAAC,WAAW,EAAE;AAClC,KAAI,IAAI,GAAG,qBAAS,WAAW,CAAC,CAAC;AACjC,KAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;;AAE3B,KAAI,IAAI,EAAE;AACT,QAAM,sCAAsC,CAAC;EAC7C;;AAED,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;CACrB","file":"Controller.js","sourcesContent":["import {funcMeta} from \"./utils\";\nimport {app} from \"./app\";\n\n/**\n@function Controller\n@param {String} [name] - The name of the controller.\n\n@example\n[@]Controller()\nclass MyController {}\n\n*/\nexport function Controller(name, options) {\n\tif (typeof name === \"function\") {\n\t\tlet constructor = name; name = null;\n\t\treturn register(constructor, options);\n\t}\n\n\treturn register;\n\tfunction register(constructor, opts){\n\t\tregisterLock(constructor);\n\t\tlet meta = funcMeta(constructor);\n\n\t\tname = (name || (opts && opts.name) || meta.name);\n\t\tmeta.controller.name = name;\n\n\t\tapp.controller(name, constructor);\n\t}\n}\n\nfunction registerLock(constructor) {\n\tlet meta = funcMeta(constructor);\n\tvar lock = meta.controller;\n\n\tif (lock) {\n\t\tthrow \"@Controller() can only be used once!\";\n\t}\n\n\tmeta.controller = {};\n}\n"]}