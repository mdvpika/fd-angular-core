{"version":3,"sources":["../src/Component.js"],"names":[],"mappings":";;;;;QAMgB,SAAS,GAAT,SAAS;;qBANQ,SAAS;;mBACxB,OAAO;;0BACA,cAAc;;AAEvC,IAAM,cAAc,GAAG,YAAY,CAAC;;AAE7B,SAAS,SAAS,CAAC,IAAI,EAAE;AAC9B,MAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC9B,QAAI,WAAW,GAAG,IAAI,CAAC,AAAC,IAAI,GAAG,IAAI,CAAC;AACpC,WAAO,QAAQ,CAAC,WAAW,CAAC,CAAC;GAC9B;;AAED,MAAI,GAAI,IAAI,IAAI,EAAE,AAAC,CAAC;uBAMhB,IAAI,CAJN,QAAQ;MAAR,QAAQ,kCAAC,IAAI;oBAIX,IAAI,CAHN,KAAK;MAAL,KAAK,+BAAC,EAAE;MACR,QAAQ,GAEN,IAAI,CAFN,QAAQ;MACR,WAAW,GACT,IAAI,CADN,WAAW;;AAEb,SAAO,QAAQ,CAAC;;AAEhB,WAAS,QAAQ,CAAC,WAAW,EAAE;AAC7B,oBApBI,UAAU,EAoBH,WAAW,CAAC,CAAC;;AAExB,QAAI,IAAI,GAAG,WAxBP,QAAQ,EAwBQ,WAAW,CAAC,CAAC;AACjC,QAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;AAEvF,QAAI,CAAC,QAAQ,IAAI,CAAC,WAAW,IAAK,QAAQ,KAAK,KAAK,AAAC,EAAE;AACrD,UAAI,QAAQ,GAAG,WA5BH,QAAQ,EA4BI,IAAI,CAAC,CAAC;AAC9B,iBAAW,GAAG,eAAe,GAAC,QAAQ,GAAC,GAAG,GAAC,QAAQ,GAAC,OAAO,CAAC;KAC7D;;AAED,QAAI,QAAQ,KAAK,KAAK,EAAE;AACtB,cAAQ,GAAG,SAAS,CAAC;AACrB,iBAAW,GAAG,SAAS,CAAC;KACzB;;AAED,SApCI,GAAG,CAoCH,SAAS,CAAC,IAAI,EAAE,YAAY;AAC9B,aAAO;AACL,gBAAQ,EAAU,QAAQ;AAC1B,aAAK,EAAa,KAAK;AACvB,wBAAgB,EAAE,IAAI;AACtB,kBAAU,EAAQ,WA1ClB,QAAQ,EA0CmB,WAAW,CAAC;AACvC,oBAAY,EAAM,IAAI;AACtB,gBAAQ,EAAU,QAAQ;AAC1B,mBAAW,EAAO,WAAW;OAC9B,CAAC;KACH,CAAC,CAAC;GACJ,CAAC;CACH","file":"Component.js","sourcesContent":["import {funcName, dashCase} from './utils';\nimport {app} from './app';\nimport {Controller} from './Controller';\n\nconst DEFAULT_SUFFIX = 'Controller';\n\nexport function Component(opts) {\n  if (typeof opts === 'function') {\n    var constructor = opts; opts = null;\n    return register(constructor);\n  }\n\n  opts = (opts || {});\n  var {\n    restrict='EA',\n    scope={},\n    template,\n    templateUrl\n  } = opts;\n  return register;\n\n  function register(constructor) {\n    Controller(constructor);\n\n    var name = funcName(constructor);\n    name = name[0].toLowerCase() + name.substr(1, name.length - DEFAULT_SUFFIX.length - 1);\n\n    if (!template && !templateUrl && (template !== false)) {\n      var tmplName = dashCase(name);\n      templateUrl = './components/'+tmplName+'/'+tmplName+'.html';\n    }\n\n    if (template === false) {\n      template = undefined;\n      templateUrl = undefined;\n    }\n\n    app.directive(name, function () {\n      return {\n        restrict:         restrict,\n        scope:            scope,\n        bindToController: true,\n        controller:       funcName(constructor),\n        controllerAs:     name,\n        template:         template,\n        templateUrl:      templateUrl\n      };\n    });\n  };\n}\n"]}