{"version":3,"sources":["../src/Component.js"],"names":[],"mappings":";;;;;QAyBgB,SAAS,GAAT,SAAS;;qBAzBQ,SAAS;;mBACxB,OAAO;;0BACA,cAAc;;AAEvC,IAAM,cAAc,GAAG,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;AAqB7B,SAAS,SAAS,CAAC,IAAI,EAAE;AAC/B,KAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAC/B,MAAI,YAAW,GAAG,IAAI,CAAC,AAAC,IAAI,GAAG,IAAI,CAAC;AACpC,SAAO,QAAQ,CAAC,YAAW,CAAC,CAAC;EAC7B;;AAED,KAAI,GAAI,IAAI,IAAI,EAAE,AAAC,CAAC;sBAMhB,IAAI,CAJP,QAAQ;KAAR,QAAQ,kCAAC,IAAI;mBAIV,IAAI,CAHP,KAAK;KAAL,KAAK,+BAAC,EAAE;KACR,QAAQ,GAEL,IAAI,CAFP,QAAQ;KACR,WAAW,GACR,IAAI,CADP,WAAW;;AAEZ,QAAO,QAAQ,CAAC;;AAEhB,UAAS,QAAQ,CAAC,WAAW,EAAE;AAC9B,kBAvCM,UAAU,EAuCL,WAAW,CAAC,CAAC;AACxB,MAAI,IAAI,GAAG,WA1CL,QAAQ,EA0CM,WAAW,CAAC,CAAC;;AAEjC,MAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACrB,MAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;;AAEvF,MAAI,CAAC,QAAQ,IAAI,CAAC,WAAW,IAAK,QAAQ,KAAK,KAAK,AAAC,EAAE;AACtD,OAAI,QAAQ,GAAG,WAhDA,QAAQ,EAgDC,IAAI,CAAC,CAAC;AAC9B,cAAW,qBAAmB,QAAQ,SAAI,QAAQ,UAAO,CAAC;GAC1D;;AAED,MAAI,QAAQ,KAAK,KAAK,EAAE;AACvB,WAAQ,GAAG,SAAS,CAAC;AACrB,cAAW,GAAG,SAAS,CAAC;GACxB;;AAED,OAxDM,GAAG,CAwDL,SAAS,CAAC,IAAI,EAAE,YAAY;AAC/B,UAAO;AACN,YAAQ,EAAU,QAAQ;AAC1B,SAAK,EAAa,KAAK;AACvB,oBAAgB,EAAE,IAAI;AACtB,cAAU,EAAQ,IAAI,CAAC,UAAU,CAAC,IAAI;AACtC,gBAAY,EAAM,IAAI;AACtB,YAAQ,EAAU,QAAQ;AAC1B,eAAW,EAAO,WAAW;IAC7B,CAAC;GACF,CAAC,CAAC;EACH;CACD","file":"Component.js","sourcesContent":["import {funcMeta, dashCase} from \"./utils\";\nimport {app} from \"./app\";\nimport {Controller} from \"./Controller\";\n\nconst DEFAULT_SUFFIX = \"Controller\";\n\n/**\nDeclare an angular Component directive.\n\n@function Component\n\n@param {Object} [opts]\n@param {String} [opts.name]\n@param {String} [opts.restrict=\"EA\"]\n@param {Object} [opts.scope={}]\n@param {String} [opts.template]\n@param {String} [opts.templateUrl]\n\n@example\n[@]Component({\n\tscope: { \"attr\": \"=\" }\n})\nclass MyComponentController {}\n\n*/\nexport function Component(opts) {\n\tif (typeof opts === \"function\") {\n\t\tlet constructor = opts; opts = null;\n\t\treturn register(constructor);\n\t}\n\n\topts = (opts || {});\n\tvar {\n\t\trestrict=\"EA\",\n\t\tscope={},\n\t\ttemplate,\n\t\ttemplateUrl,\n\t} = opts;\n\treturn register;\n\n\tfunction register(constructor) {\n\t\tController(constructor);\n\t\tlet meta = funcMeta(constructor);\n\n\t\tlet name = meta.name;\n\t\tname = name[0].toLowerCase() + name.substr(1, name.length - DEFAULT_SUFFIX.length - 1);\n\n\t\tif (!template && !templateUrl && (template !== false)) {\n\t\t\tvar tmplName = dashCase(name);\n\t\t\ttemplateUrl = `./components/${tmplName}/${tmplName}.html`;\n\t\t}\n\n\t\tif (template === false) {\n\t\t\ttemplate = undefined;\n\t\t\ttemplateUrl = undefined;\n\t\t}\n\n\t\tapp.directive(name, function () {\n\t\t\treturn {\n\t\t\t\trestrict:         restrict,\n\t\t\t\tscope:            scope,\n\t\t\t\tbindToController: true,\n\t\t\t\tcontroller:       meta.controller.name,\n\t\t\t\tcontrollerAs:     name,\n\t\t\t\ttemplate:         template,\n\t\t\t\ttemplateUrl:      templateUrl,\n\t\t\t};\n\t\t});\n\t}\n}\n"]}